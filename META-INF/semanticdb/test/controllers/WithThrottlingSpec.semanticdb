
÷®0
„

&_root_.uk.gov.hmrc.http.HeaderCarrier#`
ïõV_root_.scala.concurrent.Future.failed(Ljava/lang/Throwable;)Lscala/concurrent/Future;.
îô_root_.utils.M
≈·C_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector..
ÒÒ$_root_.java.lang.Object#`<init>`()V.l
ˆ˘b_root_.play.api.libs.streams.Accumulator#run(Lakka/stream/Materializer;)Lscala/concurrent/Future;./
ö±%_root_.utils.NoMetricsOneAppPerSuite#I
ç	ì	?_root_.scala.concurrent.Future.;_root_.scala.concurrent.Future#%
‘⁄_root_.play.api.mvc.Action.
ÁÍ_root_.org.
˛É_root_.akka.actor."
˙Ñ	_root_.scala.concurrent.A
Û˘7_root_.play.api.mvc.Action.;_root_.play.api.mvc.Action#"
˙˛_root_.uk.gov.hmrc.play./
√‘%_root_.akka.stream.ActorMaterializer.@
ÏÛ4test/controllers/WithThrottlingSpec.scala@1900..1907'
íô_root_.org.scalatest.mockito.&
éï_root_.play.api.mvc.Results.l
®´b_root_.play.api.libs.streams.Accumulator#run(Lakka/stream/Materializer;)Lscala/concurrent/Future;._
ö¶U_root_.org.scalatest.mockito.MockitoSugar.;_root_.org.scalatest.mockito.MockitoSugar#
˘˝_root_.akka.Y
õ¶O_root_.controllers.WithThrottlingSpec#fakeRequest()Lplay/api/test/FakeRequest;.D
ÊÏ:_root_.scala.concurrent.ExecutionContext.Implicits.global..
â
â
$_root_.java.lang.Object#`<init>`()V.
§ß_root_.play.api.(
¿ƒ_root_.org.scalatestplus.play.)
†©_root_.scala.package.Exception#
ÎÓ_root_.play.api.)
–÷_root_.scala.concurrent.Future.'
≠¥_root_.play.api.test.Helpers.
®¨_root_.play.api.test.
ú¢_root_.akka.stream.
∆	 	_root_.uk.gov.hmrc.2
Â	˜	&_root_.controllers.WithThrottlingSpec#(
Ú˜_root_.scala.concurrent.Await.
¬	≈	_root_.uk.gov.M
–ÏC_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector.&
û°_root_.scala.collection.Seq.Y
ÈÙO_root_.controllers.WithThrottlingSpec#fakeRequest()Lplay/api/test/FakeRequest;.
ú	°	_root_.scala.+
íù!_root_.play.api.test.FakeHeaders.í
ëïá_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Lscala/Function0;Lorg/scalatest/words/StringVerbBlockRegistration;)V.
√∆_root_.play.api.
ı˘_root_.uk.gov.hmrc.)
Éâ_root_.scala.concurrent.Future.M
§¿C_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector.
Æ±_root_.org.>
¯	¯	2_root_.controllers.WithThrottlingSpec#`<init>`()V.ò
€·ç_root_.org.scalatest.words.ShouldVerb#StringShouldWrapperForVerb#should(Lscala/Function0;Lorg/scalatest/words/StringVerbBlockRegistration;)V.
ü£_root_.play.{
≈œq_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.'
ˇÉ_root_.uk.gov.hmrc.play.test.(
¿≈_root_.scala.concurrent.Await.M
⁄ÂC_root_.play.api.test.FakeRequest.;_root_.play.api.test.FakeRequest#
Ñá_root_.org.[
£ÆO_root_.controllers.WithThrottlingSpec#fakeRequest()Lplay/api/test/FakeRequest;.+
µ¿!_root_.play.api.test.FakeRequest#5
«ﬂ+_root_.connectors.TrafficThrottleConnector#À
˝ï¿_root_.controllers.WithThrottling#withThrottledHoldingPage(Ljava/lang/String;Lscala/Function0;Lscala/Function0;Lplay/api/mvc/Request;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.1
©©'_root_.java.lang.Exception#`<init>`()V.Y
œ⁄O_root_.controllers.WithThrottlingSpec#fakeRequest()Lplay/api/test/FakeRequest;.
º∆_root_.connectors.
ÔÚ_root_.play.api.mvc.
ø	¡	
_root_.uk.a
ìòW_root_.controllers.WithThrottlingSpec#ThrottledController.index()Lplay/api/mvc/Action;.
ÅÖ_root_.play.d
ÀœZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.M
íÆC_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector.É
¯˛y_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.
Ó
_root_.uk.c
 œW_root_.controllers.WithThrottlingSpec#ThrottledController.index()Lplay/api/mvc/Action;.5
Çö+_root_.connectors.TrafficThrottleConnector#
ÒÙ_root_.uk.gov.B
Àﬁ8_root_.org.scalatestplus.play.guice.GuiceOneAppPerSuite#x
ÇÑn_root_.org.scalatest.WordSpecLike#WordSpecStringWrapper#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.O
ﬁ˙C_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector.l
‹ﬂb_root_.play.api.libs.streams.Accumulator#run(Lakka/stream/Materializer;)Lscala/concurrent/Future;.,
‚"_root_.controllers.WithThrottling#a
·ÊW_root_.controllers.WithThrottlingSpec#ThrottledController.index()Lplay/api/mvc/Action;.
«À_root_.play.api.test.z
éñp_root_.org.scalatest.Matchers#AnyShouldWrapper#shouldBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;./
†
∑
%_root_.utils.NoMetricsOneAppPerSuite#?
¥¿3_root_.controllers.WithThrottlingSpec#materializer._
â°S_root_.controllers.WithThrottlingSpec#ThrottledController.trafficThrottleConnector.@
ù£4test/controllers/WithThrottlingSpec.scala@2201..2286d
çëZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.
Ù˘_root_.scala.Z
€‡P_root_.play.api.mvc.ActionBuilder#async(Lscala/Function1;)Lplay/api/mvc/Action;.%
Û˙_root_.org.mockito.Mockito.F
∆Ÿ:_root_.controllers.WithThrottlingSpec#ThrottledController.)
éî_root_.scala.concurrent.Future.0
Œ
€
&_root_.uk.gov.hmrc.http.HeaderCarrier#
ÎÚ_root_.org.mockito."
À	œ	_root_.uk.gov.hmrc.http.
óõ_root_.akka.{
¯Çq_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.@
∑Ω4test/controllers/WithThrottlingSpec.scala@2867..2952É
¨≤y_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.3
À€)_root_.scala.concurrent.ExecutionContext.(
Ü	ã	_root_.scala.concurrent.Await.É
∆Ãy_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.D
Õ‡:_root_.controllers.WithThrottlingSpec#ThrottledController.z
®∞p_root_.org.scalatest.Matchers#AnyShouldWrapper#shouldBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.G
Ñè=_root_.akka.actor.ActorSystem.;_root_.akka.actor.ActorSystem#
Â_root_.controllers.0
Ä
à
&_root_.uk.gov.hmrc.play.test.UnitSpec#D
ˇí:_root_.controllers.WithThrottlingSpec#ThrottledController."
¿ _root_.scala.concurrent.
æ¬_root_.play.{
Éçq_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.(
äï_root_.akka.actor.ActorSystem.(
¶´_root_.scala.concurrent.Await.ò
ö†ç_root_.org.scalatest.words.ShouldVerb#StringShouldWrapperForVerb#should(Lscala/Function0;Lorg/scalatest/words/StringVerbBlockRegistration;)V.+
≠	µ	!_root_.scala.concurrent.duration.e
ﬁ
‚
[_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.)
Ωø_root_.play.api.mvc.Results#Ok.
∫ø_root_.scala.x
¿¬n_root_.org.scalatest.WordSpecLike#WordSpecStringWrapper#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.è
‚ÌÑ_root_.connectors.TrafficThrottleConnector#isThrottled(Ljava/lang/String;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.9
Åá-_root_.controllers.WithThrottlingSpec#system.U
£¥K_root_.akka.stream.ActorMaterializer.;_root_.akka.stream.ActorMaterializer#s
Äái_root_.scala.concurrent.duration.DurationConversions#seconds()Lscala/concurrent/duration/FiniteDuration;.@
ÈÔ4test/controllers/WithThrottlingSpec.scala@2533..2618s
ÊÌi_root_.scala.concurrent.duration.DurationConversions#seconds()Lscala/concurrent/duration/FiniteDuration;.W
–	›	M_root_.uk.gov.hmrc.http.HeaderCarrier.;_root_.uk.gov.hmrc.http.HeaderCarrier#0
Ñå&_root_.uk.gov.hmrc.play.test.UnitSpec#d
¿ƒZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.
Üâ_root_.play.api.s
≤πi_root_.scala.concurrent.duration.DurationConversions#seconds()Lscala/concurrent/duration/FiniteDuration;..
≈ $_root_.org.scalatestplus.play.guice.è
Ø∫Ñ_root_.connectors.TrafficThrottleConnector#isThrottled(Ljava/lang/String;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.=
‹Â3_root_.scala.concurrent.ExecutionContext.Implicits.D
≥∆:_root_.controllers.WithThrottlingSpec#ThrottledController.5
 
Ã
)_root_.controllers.WithThrottlingSpec#hc.x
µ∑n_root_.org.scalatest.WordSpecLike#WordSpecStringWrapper#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.
ÊÍ_root_.play.M
ÕÿC_root_.play.api.test.FakeHeaders.;_root_.play.api.test.FakeHeaders#
àë_root_.org.scalatest.4
é
ö
*_root_.org.scalatest.mockito.MockitoSugar#
äç_root_.play.api.mvc.e
˝Å[_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.z
⁄‚p_root_.org.scalatest.Matchers#AnyShouldWrapper#shouldBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.a
«ÃW_root_.controllers.WithThrottlingSpec#ThrottledController.index()Lplay/api/mvc/Action;."
¢	¨	_root_.scala.concurrent.ÿ
¿¿Õ_root_.play.api.test.FakeRequest#`<init>`(Ljava/lang/String;Ljava/lang/String;Lplay/api/mvc/Headers;Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;JLscala/collection/immutable/Map;ZLscala/Option;)V.è
Ì¯Ñ_root_.connectors.TrafficThrottleConnector#isThrottled(Ljava/lang/String;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.#
≤ø_root_.org.scalatestplus.)
ü°_root_.play.api.mvc.Results#Ok.")
_root_.scala.collection.Seq.	ÄÑSeq"c
$_root_.java.lang.Object#`<init>`()V.;àÄÄ<init>
(): Object" 

_root_.java.lang.Object#"3
_root_.akka.actor.ActorSystem.ÄÑActorSystem"@
%_root_.akka.stream.ActorMaterializer.ÄÑActorMaterializer"Õ
q_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.◊ÑÄÑ
thenReturn(x$1: T): OngoingStubbing[T]"7
/_root_.org.mockito.stubbing.OngoingStubbing#[T]"4

,_root_.org.mockito.stubbing.OngoingStubbing#"7
/_root_.org.mockito.stubbing.OngoingStubbing#[T]"¬
O_root_.controllers.WithThrottlingSpec#fakeRequest()Lplay/api/test/FakeRequest;.ofakeRequestFakeRequest[String]"'
!_root_.play.api.test.FakeRequest#" 
_root_.java.lang.String#"$
_root_.play.api.test.ÄàÄtest"ù
:_root_.scala.concurrent.ExecutionContext.Implicits.global._ÅÄ`globalExecutionContextExecutor"7
1_root_.scala.concurrent.ExecutionContextExecutor#"â
3_root_.controllers.WithThrottlingSpec#materializer.RÅÄ materializerActorMaterializer"+
%_root_.akka.stream.ActorMaterializer#"T
8_root_.org.scalatestplus.play.guice.GuiceOneAppPerSuite#Ä@GuiceOneAppPerSuite"7
!_root_.play.api.test.FakeRequest#Ä†ÄFakeRequest"\
_root_.play.api.mvc.Results#Ok.9OkStatus")
#_root_.play.api.mvc.Results#Status#"'
_root_.connectors.ÄàÄ
connectors"r
)_root_.controllers.WithThrottlingSpec#hc.EÅÄ hcHeaderCarrier",
&_root_.uk.gov.hmrc.http.HeaderCarrier#"Ù
Ñ_root_.connectors.TrafficThrottleConnector#isThrottled(Ljava/lang/String;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.ÍisThrottled<(route: String)(implicit hc: HeaderCarrier): Future[Boolean]"#
_root_.scala.Predef.String#".
*&_root_.uk.gov.hmrc.http.HeaderCarrier#"'
-3_root_.scala.concurrent.Future#"
4;_root_.scala.Boolean#"?
*_root_.org.scalatest.mockito.MockitoSugar#Ä@MockitoSugar"A
&_root_.controllers.WithThrottlingSpec#Ä WithThrottlingSpec"m
4test/controllers/WithThrottlingSpec.scala@2533..26185resultResult"!
_root_.play.api.mvc.Result#"'
_root_.uk.gov.hmrc.http.ÄàÄhttp" 
W_root_.controllers.WithThrottlingSpec#ThrottledController.index()Lplay/api/mvc/Action;.oindex(): Action[AnyContent]"#

_root_.play.api.mvc.Action#"'
_root_.play.api.mvc.AnyContent#""
_root_.play.api.mvc.
ÄàÄmvc"Ç
ç_root_.org.scalatest.words.ShouldVerb#StringShouldWrapperForVerb#should(Lscala/Function0;Lorg/scalatest/words/StringVerbBlockRegistration;)V.ÔshouldH(right: <byname>[Unit])(implicit fun: StringVerbBlockRegistration): Unit" 
_root_.scala.`<byname>`#"
_root_.scala.Unit#"?
&A7_root_.org.scalatest.words.StringVerbBlockRegistration#"
DH_root_.scala.Unit#"¬
S_root_.controllers.WithThrottlingSpec#ThrottledController.trafficThrottleConnector.kÅÄ@trafficThrottleConnectorTrafficThrottleConnector"1
+_root_.connectors.TrafficThrottleConnector#"
_root_.akka.ÄàÄakka"≠
b_root_.play.api.libs.streams.Accumulator#run(Lakka/stream/Materializer;)Lscala/concurrent/Future;.∆ÑÄrun2()(implicit materializer: Materializer): Future[A]"(
& _root_.akka.stream.Materializer#"'
)/_root_.scala.concurrent.Future#"4
01,_root_.play.api.libs.streams.Accumulator#[A]"
_root_.play.api.
ÄàÄapi"-
_root_.scala.concurrent.Await.ÄÑAwait"p
-_root_.controllers.WithThrottlingSpec#system.?ÅÄ systemActorSystem"$
_root_.akka.actor.ActorSystem#"à
2_root_.controllers.WithThrottlingSpec#`<init>`()V.R<init>(): WithThrottlingSpec".
&_root_.controllers.WithThrottlingSpec#"º
P_root_.play.api.mvc.ActionBuilder#async(Lscala/Function1;)Lplay/api/mvc/Action;.ÁÑÄasyncE(block: Function1[R[AnyContent], Future[Result]]): Action[AnyContent]"
_root_.scala.Function1#"-
%_root_.play.api.mvc.ActionBuilder#[R]"'
_root_.play.api.mvc.AnyContent#"'
!'_root_.scala.concurrent.Future#"#
(._root_.play.api.mvc.Result#"#
39_root_.play.api.mvc.Action#"'
:D_root_.play.api.mvc.AnyContent#"^
_root_.scala.package.Exception#;@	Exception	Exception"!
	_root_.java.lang.Exception#"Â
p_root_.org.scalatest.Matchers#AnyShouldWrapper#shouldBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.qshouldBe(right: Any): Assertion"
_root_.scala.Any#"/
'_root_.org.scalatest.package.Assertion#"F
3_root_.scala.concurrent.ExecutionContext.Implicits.ÄÑ	Implicits"4
!_root_.scala.concurrent.duration.ÄàÄduration"ß
4test/controllers/WithThrottlingSpec.scala@1900..1907oÄÅ requestRequest[AnyContent]""
_root_.play.api.mvc.Request#"'
_root_.play.api.mvc.AnyContent#",
_root_.uk.gov.hmrc.play.test.ÄàÄtest"/
_root_.scala.concurrent.Future.ÄÑFuture"W
:_root_.controllers.WithThrottlingSpec#ThrottledController.ÄÑThrottledController"/
_root_.org.scalatest.mockito.ÄàÄmockito"å
[_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.¨mock*[T] => (implicit classTag: ClassTag[T]): T"&
#_root_.scala.reflect.ClassTag#"f
$%^_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"f
)*^_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"≠
y_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.Øresult5[T] => (awaitable: Awaitable[T], atMost: Duration): T"*
"_root_.scala.concurrent.Awaitable#"Ñ
|_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.[T]"2
)1*_root_.scala.concurrent.duration.Duration#"Ñ
45|_root_.scala.concurrent.Await.result(Lscala/concurrent/Awaitable;Lscala/concurrent/duration/Duration;)Ljava/lang/Object;.[T]"l
'_root_.java.lang.Exception#`<init>`()V.AàÄÄ<init>(): Exception"#
_root_.java.lang.Exception#"≥
n_root_.org.scalatest.WordSpecLike#WordSpecStringWrapper#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.¿in0(f: <byname>[Any])(implicit pos: Position): Unit" 
_root_.scala.`<byname>`#"
_root_.scala.Any#"-
!)%_root_.org.scalactic.source.Position#"
,0_root_.scala.Unit#"-
_root_.org.scalatestplus.play.ÄàÄplay")
_root_.org.scalatest.ÄàÄ	scalatest"
_root_.org.
ÄàÄorg"¿
i_root_.scala.concurrent.duration.DurationConversions#seconds()Lscala/concurrent/duration/FiniteDuration;.SsecondsFiniteDuration"6
0_root_.scala.concurrent.duration.FiniteDuration#"

_root_.uk.	ÄàÄuk"ì
Z_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.¥ÑÄÄwhen#[T] => (x$1: T): OngoingStubbing[T]"e
]_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.[T]"4
 ,_root_.org.mockito.stubbing.OngoingStubbing#"e
!"]_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.[T]"9
"_root_.controllers.WithThrottling#Ä@WithThrottling"
_root_.uk.gov.
ÄàÄgov"˜
ô_root_.uk.gov.hmrc.http.HeaderCarrier#`<init>`(Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Ljava/lang/String;JLscala/collection/Seq;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/Option;Lscala/collection/Seq;)V.ÿ<init>¯(authorization: Option[Authorization], userId: Option[UserId], token: Option[Token], forwarded: Option[ForwardedFor], sessionId: Option[SessionId], requestId: Option[RequestId], requestChain: RequestChain, nsStamp: Long, extraHeaders: Seq[Tuple2[String, String]], trueClientIp: Option[String], trueClientPort: Option[String], gaToken: Option[String], gaUserId: Option[String], deviceID: Option[String], akamaiReputation: Option[AkamaiReputation], otherHeaders: Seq[Tuple2[String, String]]): HeaderCarrier"
_root_.scala.Option#"6
$._root_.uk.gov.hmrc.http.logging.Authorization#"
/5_root_.scala.Option#"'
6<_root_.uk.gov.hmrc.http.UserId#"
FL_root_.scala.Option#"&
MR_root_.uk.gov.hmrc.http.Token#"
`f_root_.scala.Option#"5
gs-_root_.uk.gov.hmrc.http.logging.ForwardedFor#"
Åá_root_.scala.Option#"4
àë*_root_.uk.gov.hmrc.http.logging.SessionId#"
ü•_root_.scala.Option#"4
¶Ø*_root_.uk.gov.hmrc.http.logging.RequestId#"7
¿Ã-_root_.uk.gov.hmrc.http.logging.RequestChain#"
◊€_root_.scala.Long#"#
ÎÓ_root_.scala.package.Seq#"
Ôı_root_.scala.Tuple2#"%
ˆ¸_root_.scala.Predef.String#"%
˛Ñ_root_.scala.Predef.String#"
ñú_root_.scala.Option#"%
ù£_root_.scala.Predef.String#"
∂º_root_.scala.Option#"%
Ω√_root_.scala.Predef.String#"
œ’_root_.scala.Option#"%
÷‹_root_.scala.Predef.String#"
ÈÔ_root_.scala.Option#"%
ˆ_root_.scala.Predef.String#"
Éâ_root_.scala.Option#"%
äê_root_.scala.Predef.String#"
•´_root_.scala.Option#";
¨º1_root_.uk.gov.hmrc.http.logging.AkamaiReputation#"#
Õ–_root_.scala.package.Seq#"
—◊_root_.scala.Tuple2#"%
ÿﬁ_root_.scala.Predef.String#"%
‡Ê_root_.scala.Predef.String#"0
Î¯&_root_.uk.gov.hmrc.http.HeaderCarrier#"4
$_root_.org.scalatestplus.play.guice.ÄàÄguice"$
_root_.akka.stream.ÄàÄstream"L
+_root_.connectors.TrafficThrottleConnector#Ä TrafficThrottleConnector".
_root_.play.api.test.Helpers.ÄÑHelpers"E
%_root_.utils.NoMetricsOneAppPerSuite#Ä@NoMetricsOneAppPerSuite"C
)_root_.scala.concurrent.ExecutionContext.ÄÑExecutionContext"
_root_.play.ÄàÄplay"-
_root_.scala.concurrent.ÄàÄ
concurrent"’
ò_root_.connectors.TrafficThrottleConnector#`<init>`(Luk/gov/hmrc/play/config/inject/ServicesConfig;Lconfig/WSHttp;Lscala/concurrent/ExecutionContext;)V.∑<init>e(serverConfig: ServicesConfig, http: WSHttp)(implicit ec: ExecutionContext): TrafficThrottleConnector"=
5_root_.uk.gov.hmrc.play.config.inject.ServicesConfig#"
%+_root_.config.WSHttp#"1
:J)_root_.scala.concurrent.ExecutionContext#"3
Me+_root_.connectors.TrafficThrottleConnector#"1
_root_.org.scalatestplus.ÄàÄscalatestplus"-
_root_.org.mockito.Mockito.ÄÑàMockito""
_root_.akka.actor.ÄàÄactor"¶
Õ_root_.play.api.test.FakeRequest#`<init>`(Ljava/lang/String;Ljava/lang/String;Lplay/api/mvc/Headers;Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;JLscala/collection/immutable/Map;ZLscala/Option;)V.”<init>‹(method: String, uri: String, headers: Headers, body: A, remoteAddress: String, version: String, id: Long, tags: Map[String, String], secure: Boolean, clientCertificateChain: Option[Seq[X509Certificate]]): FakeRequest[A]"#
	_root_.scala.Predef.String#"#
_root_.scala.Predef.String#"$
'._root_.play.api.mvc.Headers#",
67$_root_.play.api.test.FakeRequest#[A]"#
HN_root_.scala.Predef.String#"#
Y__root_.scala.Predef.String#"
ei_root_.scala.Long#" 
qt_root_.scala.Predef.Map#"#
u{_root_.scala.Predef.String#"$
}É_root_.scala.Predef.String#"
éï_root_.scala.Boolean#"
Øµ_root_.scala.Option#"#
∂π_root_.scala.package.Seq#"4
∫…*_root_.java.security.cert.X509Certificate#"+
ŒŸ!_root_.play.api.test.FakeRequest#".
⁄€$_root_.play.api.test.FakeRequest#[A]"+
_root_.play.api.mvc.Action.ÄÑAction")
_root_.controllers.ÄàÄcontrollers"¥
C_root_.controllers.WithThrottlingSpec#mockTrafficThrottleConnector.mmockTrafficThrottleConnectorTrafficThrottleConnector"1
+_root_.connectors.TrafficThrottleConnector#"
_root_.utils.ÄàÄutils"6
!_root_.play.api.test.FakeHeaders.ÄÑFakeHeaders">
&_root_.uk.gov.hmrc.http.HeaderCarrier#Ä†ÄHeaderCarrier"
_root_.scala.ÄàÄscala"7
&_root_.uk.gov.hmrc.play.test.UnitSpec#Ä@UnitSpec"-
_root_.play.api.mvc.Results.ÄÑResults"ƒ
V_root_.scala.concurrent.Future.failed(Ljava/lang/Throwable;)Lscala/concurrent/Future;.Èfailed([T] => (exception: Throwable): Future[T]"'
_root_.scala.package.Throwable#"'
%_root_.scala.concurrent.Future#"a
&'Y_root_.scala.concurrent.Future.failed(Ljava/lang/Throwable;)Lscala/concurrent/Future;.[T]"˙
á_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Lscala/Function0;Lorg/scalatest/words/StringVerbBlockRegistration;)V.ÌmustH(right: <byname>[Unit])(implicit fun: StringVerbBlockRegistration): Unit" 
_root_.scala.`<byname>`#"
_root_.scala.Unit#"?
&A7_root_.org.scalatest.words.StringVerbBlockRegistration#"
DH_root_.scala.Unit#""
_root_.uk.gov.hmrc.ÄàÄhmrc"˝
¿_root_.controllers.WithThrottling#withThrottledHoldingPage(Ljava/lang/String;Lscala/Function0;Lscala/Function0;Lplay/api/mvc/Request;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.∑withThrottledHoldingPageì(route: String, throttledPage: <byname>[Result])(block: <byname>[Result])(implicit request: Request[AnyContent], hc: HeaderCarrier): Future[Result]"#
_root_.scala.Predef.String#" 
'_root_.scala.`<byname>`#"#
(._root_.play.api.mvc.Result#" 
8@_root_.scala.`<byname>`#"#
AG_root_.play.api.mvc.Result#"$
\c_root_.play.api.mvc.Request#"'
dn_root_.play.api.mvc.AnyContent#"/
uÇ&_root_.uk.gov.hmrc.http.HeaderCarrier#")
Öã_root_.scala.concurrent.Future#"%
åí_root_.play.api.mvc.Result#"'
_root_.uk.gov.hmrc.play.ÄàÄplay"m
4test/controllers/WithThrottlingSpec.scala@2201..22865resultResult"!
_root_.play.api.mvc.Result#"m
4test/controllers/WithThrottlingSpec.scala@2867..29525resultResult"!
_root_.play.api.mvc.Result#"%
_root_.org.mockito.ÄàÄmockito2Ñ
ùù*.apply
_star_.b
Z_root_.play.api.test.FakeHeaders.apply(Lscala/collection/Seq;)Lplay/api/test/FakeHeaders;.2¬
°°*.apply[Nothing]
_star_.x
p_root_.scala.collection.generic.GenericCompanion#apply(Lscala/collection/Seq;)Lscala/collection/GenTraversable;.
_root_.scala.Nothing#2‡
Ò
Ò
f*(((ClassTag.apply[HeaderCarrier](classOf[uk.gov.hmrc.http.HeaderCarrier])): ClassTag[HeaderCarrier]))
_star_..
Vc&_root_.uk.gov.hmrc.http.HeaderCarrier#&
MU_root_.scala.reflect.ClassTag#W
O_root_.scala.reflect.ClassTag.apply(Ljava/lang/Class;)Lscala/reflect/ClassTag;..
 &_root_.uk.gov.hmrc.http.HeaderCarrier#2å
ËË*.apply
_star_.j
b_root_.play.api.mvc.Action#apply(Lplay/api/mvc/RequestHeader;)Lplay/api/libs/streams/Accumulator;.2i
√√*(WithThrottlingSpec.this.hc)
_star_.1
)_root_.controllers.WithThrottlingSpec#hc.2Á
ú¥9WithThrottlingSpec.this.convertToWordSpecStringWrapper(*)ê
6á_root_.org.scalatest.WordSpecLike#convertToWordSpecStringWrapper(Ljava/lang/String;)Lorg/scalatest/WordSpecLike/WordSpecStringWrapper;.
78_star_.2Á
ßø9WithThrottlingSpec.this.convertToWordSpecStringWrapper(*)ê
6á_root_.org.scalatest.WordSpecLike#convertToWordSpecStringWrapper(Ljava/lang/String;)Lorg/scalatest/WordSpecLike/WordSpecStringWrapper;.
78_star_.2œ
ƒƒ∫*(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 83))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2∞
‘‘*.apply
_star_.ç
Ñ_root_.akka.stream.ActorMaterializer.apply(Lscala/Option;Lscala/Option;Lakka/actor/ActorRefFactory;)Lakka/stream/ActorMaterializer;.2ê
˝ˇ2scala.concurrent.duration.`package`.DurationInt(*)A
$/9_root_.scala.concurrent.duration.package.DurationInt(I)I.
01_star_.2s
ëë*[Future[Boolean]]
_star_.'
_root_.scala.concurrent.Future#
	_root_.scala.Boolean#2Á
ŒŒ<*(play.api.http.Writeable.wString(play.api.mvc.Codec.utf_8))
_star_.f
!^_root_.play.api.http.DefaultWriteables#wString(Lplay/api/mvc/Codec;)Lplay/api/http/Writeable;.(
5: _root_.play.api.mvc.Codec.utf_8.2ù
êßíWithThrottlingSpec.this.convertToStringShouldWrapper(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 88), org.scalactic.Prettifier.default)Ω
4¥_root_.org.scalatest.Matchers#convertToStringShouldWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/Matchers/StringShouldWrapper;.
56_star_.y
V[q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
äë(_root_.org.scalactic.Prettifier.default.2ê
Ø±2scala.concurrent.duration.`package`.DurationInt(*)A
$/9_root_.scala.concurrent.duration.package.DurationInt(I)I.
01_star_.2s
ƒƒ*[Future[Boolean]]
_star_.'
_root_.scala.concurrent.Future#
	_root_.scala.Boolean#2ê
„Â2scala.concurrent.duration.`package`.DurationInt(*)A
$/9_root_.scala.concurrent.duration.package.DurationInt(I)I.
01_star_.2s
œœ*[Future[Boolean]]
_star_.'
_root_.scala.concurrent.Future#
	_root_.scala.Boolean#2Á
ËÅ9WithThrottlingSpec.this.convertToWordSpecStringWrapper(*)ê
6á_root_.org.scalatest.WordSpecLike#convertToWordSpecStringWrapper(Ljava/lang/String;)Lorg/scalatest/WordSpecLike/WordSpecStringWrapper;.
78_star_.2r
÷÷&*(request, WithThrottlingSpec.this.hc)
_star_.1
#%)_root_.controllers.WithThrottlingSpec#hc.2G
≤≤	*[Result]
_star_.#
_root_.play.api.mvc.Result#2å
ŒŒ*.apply
_star_.j
b_root_.play.api.mvc.Action#apply(Lplay/api/mvc/RequestHeader;)Lplay/api/libs/streams/Accumulator;.2G
ÃÃ	*[Result]
_star_.#
_root_.play.api.mvc.Result#2ù
≤⁄íWithThrottlingSpec.this.convertToStringShouldWrapper(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 72), org.scalactic.Prettifier.default)Ω
4¥_root_.org.scalatest.Matchers#convertToStringShouldWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/Matchers/StringShouldWrapper;.
56_star_.y
V[q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
äë(_root_.org.scalactic.Prettifier.default.2q
÷÷!*(WithThrottlingSpec.this.system)
_star_.5
 -_root_.controllers.WithThrottlingSpec#system.2Ü
õõÅ*(((ClassTag.apply[TrafficThrottleConnector](classOf[connectors.TrafficThrottleConnector])): ClassTag[TrafficThrottleConnector]))
_star_.&
]e_root_.scala.reflect.ClassTag#3
++_root_.connectors.TrafficThrottleConnector#W
O_root_.scala.reflect.ClassTag.apply(Ljava/lang/Class;)Lscala/reflect/ClassTag;.3
f~+_root_.connectors.TrafficThrottleConnector#2í
‹‹5*(scala.concurrent.ExecutionContext.Implicits.global)
_star_.B
.4:_root_.scala.concurrent.ExecutionContext.Implicits.global.2œ
˜˜∫*(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 73))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2œ
™™∫*(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 63))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2i
ˆˆ*(WithThrottlingSpec.this.hc)
_star_.1
)_root_.controllers.WithThrottlingSpec#hc.2ø
°°*.apply[String]
_star_.s
k_root_.play.api.mvc.Results#Status#apply(Ljava/lang/Object;Lplay/api/http/Writeable;)Lplay/api/mvc/Result;. 
_root_.java.lang.String#2å
öö*.apply
_star_.j
b_root_.play.api.mvc.Action#apply(Lplay/api/mvc/RequestHeader;)Lplay/api/libs/streams/Accumulator;.2z
ïï*.apply
_star_.X
P_root_.akka.actor.ActorSystem.apply(Ljava/lang/String;)Lakka/actor/ActorSystem;.2ø
øø*.apply[String]
_star_.s
k_root_.play.api.mvc.Results#Status#apply(Ljava/lang/Object;Lplay/api/http/Writeable;)Lplay/api/mvc/Result;. 
_root_.java.lang.String#2i
ÅÅ*(WithThrottlingSpec.this.hc)
_star_.1
)_root_.controllers.WithThrottlingSpec#hc.2}
≠≠'*(WithThrottlingSpec.this.materializer)
_star_.;
&3_root_.controllers.WithThrottlingSpec#materializer.2∆
÷÷*.apply[Boolean]
_star_.|
t_root_.scala.concurrent.Future.apply(Lscala/Function0;Lscala/concurrent/ExecutionContext;)Lscala/concurrent/Future;.
_root_.scala.Boolean#2»
‰êıWithThrottlingSpec.this.convertToStringMustWrapperForVerb(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 62))π
9∞_root_.org.scalatest.words.MustVerb#convertToStringMustWrapperForVerb(Ljava/lang/String;Lorg/scalactic/source/Position;)Lorg/scalatest/words/MustVerb/StringMustWrapperForVerb;.
:;_star_.y
[`q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2}
··'*(WithThrottlingSpec.this.materializer)
_star_.;
&3_root_.controllers.WithThrottlingSpec#materializer.2∆
ââ*.apply[Boolean]
_star_.|
t_root_.scala.concurrent.Future.apply(Lscala/Function0;Lscala/concurrent/ExecutionContext;)Lscala/concurrent/Future;.
_root_.scala.Boolean#2ù
ˇôíWithThrottlingSpec.this.convertToStringShouldWrapper(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 82), org.scalactic.Prettifier.default)Ω
4¥_root_.org.scalatest.Matchers#convertToStringShouldWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/Matchers/StringShouldWrapper;.
56_star_.y
V[q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
äë(_root_.org.scalactic.Prettifier.default.2ù
¬ŸíWithThrottlingSpec.this.convertToStringShouldWrapper(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 78), org.scalactic.Prettifier.default)Ω
4¥_root_.org.scalatest.Matchers#convertToStringShouldWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/Matchers/StringShouldWrapper;.
56_star_.y
V[q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
äë(_root_.org.scalactic.Prettifier.default.2G
˛˛	*[Result]
_star_.#
_root_.play.api.mvc.Result#2í
êê5*(scala.concurrent.ExecutionContext.Implicits.global)
_star_.B
.4:_root_.scala.concurrent.ExecutionContext.Implicits.global.2}
˚˚'*(WithThrottlingSpec.this.materializer)
_star_.;
&3_root_.controllers.WithThrottlingSpec#materializer.2Á
±±<*(play.api.http.Writeable.wString(play.api.mvc.Codec.utf_8))
_star_.f
!^_root_.play.api.http.DefaultWriteables#wString(Lplay/api/mvc/Codec;)Lplay/api/http/Writeable;.(
5: _root_.play.api.mvc.Codec.utf_8.2B
õõ
*[Nothing]
_star_.
	_root_.scala.Nothing#2ù
ˆçíWithThrottlingSpec.this.convertToStringShouldWrapper(*)(org.scalactic.source.Position.apply("WithThrottlingSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 68), org.scalactic.Prettifier.default)Ω
4¥_root_.org.scalatest.Matchers#convertToStringShouldWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/Matchers/StringShouldWrapper;.
56_star_.y
V[q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
äë(_root_.org.scalactic.Prettifier.default.:Scala211BÃ/*
 * Copyright 2017 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package controllers

import akka.actor.ActorSystem
import akka.stream.ActorMaterializer
import connectors.TrafficThrottleConnector
import org.mockito.Mockito._
import org.scalatest.mockito.MockitoSugar
import org.scalatestplus.play.guice.GuiceOneAppPerSuite
import play.api.mvc.Action
import play.api.mvc.Results._
import play.api.test.Helpers._
import play.api.test.{FakeHeaders, FakeRequest}
import uk.gov.hmrc.play.test.UnitSpec
import utils.NoMetricsOneAppPerSuite

import scala.concurrent.ExecutionContext.Implicits.global
import scala.concurrent.{Await, Future}
import scala.concurrent.duration._
import uk.gov.hmrc.http.HeaderCarrier

class WithThrottlingSpec extends UnitSpec with MockitoSugar with NoMetricsOneAppPerSuite {

  implicit val hc: HeaderCarrier = mock[HeaderCarrier]
  implicit val system = ActorSystem("test-system")
  implicit val materializer = ActorMaterializer()

  val mockTrafficThrottleConnector = mock[TrafficThrottleConnector]

  def fakeRequest = new FakeRequest(
    "GET",
    "http://localhost:9000/voa-property-linking-frontend/index",
    FakeHeaders(Seq()),
    "RequestBody"
  )

  object ThrottledController extends WithThrottling {
    override lazy val trafficThrottleConnector = mockTrafficThrottleConnector

    def index() = Action.async { implicit request =>
      withThrottledHoldingPage("route", Ok("Holding page")) {
        Ok("Normal page")
      }
    }
  }

  "when the controller is not being throttled" must {
    "return the normal page" in {
      when(mockTrafficThrottleConnector.isThrottled("route")).thenReturn(Future(false))

      val result = Await.result(ThrottledController.index()(fakeRequest).run(), 60 seconds)

      contentAsString(result) shouldBe "Normal page"
    }
  }

  "when the controller is being throttled" should {
    "return the holding page" in {
      when(mockTrafficThrottleConnector.isThrottled("route")).thenReturn(Future(true))

      val result = Await.result(ThrottledController.index()(fakeRequest).run(), 60 seconds)

      contentAsString(result) shouldBe "Holding page"
    }
  }

  "when an exception occurs" should {
    "return the normal page" in {
      when(mockTrafficThrottleConnector.isThrottled("route")).thenReturn(Future.failed(new Exception))

      val result = Await.result(ThrottledController.index()(fakeRequest).run(), 60 seconds)

      contentAsString(result) shouldBe "Normal page"
    }
  }

}
J)test/controllers/WithThrottlingSpec.scala